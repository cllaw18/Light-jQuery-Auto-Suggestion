function sacGetJsonData(){var e=$.parseJSON($.ajax({url:sugDataUrl,dataType:"json",async:!1}).responseText);return e}function searchAndSuggest(e,s){var n=new Array,a=0,t="",u=e.length;s=s.toLowerCase();for(var r=0;u>r;r++){var o=e[r][jsonKey1].toLowerCase(),i=o.search(s);if(-1!=i){n.push(e[a][jsonKey1]);var l="'"+e[r][jsonKey1]+"'";t+='<li onclick="selectsug('+l+')" style="line-height:'+sugItemH+'px;">'+e[r][jsonKey1]+'    <span style="color:#aaa;padding-left:20px;">'+e[r][jsonKey2]+"</span></li>",a++,jQuery("#"+sugMenuId).css("display","block")}}return jQuery("#"+sugMenuId).html(t),n}function selectsug(e){jQuery("#"+searchBoxId).val(e),jQuery("#"+sugMenuId).css("display","none")}var sugDataUrl="suggestlist.json",searchId="las_search_panel",searchBoxId="las_textbox",sugMenuId="las_suggestbox",sugMenuW="550px",sugItemH="25",dispNum="6",jsonKey1="key",jsonKey2="value";$(document).ready(function(){var e=sacGetJsonData();jQuery("#"+searchId).css("position","relative"),jQuery("#"+searchId).append('<ul id="'+sugMenuId+'" style="position:absolute; width:'+sugMenuW+";top:"+jQuery("#"+searchBoxId).outerHeight()+"px; left:0px; list-style-type:none; background:#fff; border:1px solid #ccc; margin:0;padding-left:10px;z-index:10; display:none; max-height:"+sugItemH*dispNum+'px; overflow:auto;"></ul>'),jQuery("#"+searchBoxId).css({width:sugMenuW,"padding-left":"10px"}),$(document).click(function(e){$(e.target).closest("#"+sugMenuId).length||$("#"+sugMenuId).is(":visible")&&$("#"+sugMenuId).hide()}),$("#"+searchBoxId).bind("input propertychange",function(){this.value;searchAndSuggest(e,this.value)})}),Object.size=function(e){var s,n=0;for(s in e)e.hasOwnProperty(s)&&n++;return n};
